(()=>{var e=document.querySelector("video"),t=document.getElementById("play"),n=document.getElementById("mute"),u=document.getElementById("volume"),a=document.getElementById("currentTime"),d=document.getElementById("totalTime"),i=document.getElementById("timeline"),o=document.getElementById("fullScreenBtn"),l=document.getElementById("videoContainer"),r=document.getElementById("videoControls"),s=t.querySelector("i"),c=n.querySelector("i"),m=o.querySelector("i"),v=.5;e.volume=v;var f=null,E=null,y=function(){e.paused?e.play():e.pause(),s.classList=e.paused?"fas fa-play":"fas fa-pause"},L=function(e){return new Date(1e3*e).toISOString().substring(15,19)},g=function(){var t=Math.floor(e.duration);d.innerText=L(t),i.max=t};4==e.readyState&&g();var p=function(){return r.classList.remove("showing")};t.addEventListener("click",y),n.addEventListener("click",(function(){console.log(e.muted),e.muted?e.muted=!1:e.muted=!0,c.classList=e.muted?"fas fa-volume-mute":"fas fa-volume-up",u.value=e.muted?0:v})),u.addEventListener("input",(function(t){var u=t.target.value;e.muted&&(e.muted=!1,n.innerText="Mute"),v=u,e.volume=u})),e.addEventListener("loadeddata",g),e.addEventListener("timeupdate",(function(){var t=Math.floor(e.currentTime);a.innerText=L(t),i.value=t})),e.addEventListener("click",y),e.addEventListener("ended",(function(){var e=l.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),i.addEventListener("input",(function(){e.currentTime=i.value})),o.addEventListener("click",(function(){document.fullscreenElement?(document.exitFullscreen(),m.classList="fas fa-expand"):(l.requestFullscreen(),m.classList="fas fa-compress")})),l.addEventListener("mousemove",(function(){f&&(clearTimeout(f),f=null),E&&(clearTimeout(E),E=null),r.classList.add("showing"),E=setTimeout(p,3e3)})),l.addEventListener("mouseleave",(function(){var e=setTimeout(p,3e3);f=e}))})();